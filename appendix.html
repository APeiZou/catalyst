

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; Catalyst 0.5.21 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Release Notes" href="releases.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Catalyst
          

          
          </a>

          
            
            
              <div class="version">
                0.5.21
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginner-tutorial.html">Catalyst Beginner Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="live-trading.html">Live Trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="intervals.html">Pricing Data Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-algos.html">Example Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="videos.html">Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="development-guidelines.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-a-strategy">Running a Strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#algorithm-api">Algorithm API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-object">Data Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduling-functions">Scheduling Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orders">Orders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#order-cancellation-policies">Order Cancellation Policies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#assets">Assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulation-parameters">Simulation Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commission-models">Commission Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slippage-models">Slippage Models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline">Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trading-calendar-api">Trading Calendar API</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Catalyst</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/appendix.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-a-strategy">
<h2>Running a Strategy<a class="headerlink" href="#running-a-strategy" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="catalyst.run_algorithm">
<code class="descclassname">catalyst.</code><code class="descname">run_algorithm</code><span class="sig-paren">(</span><em>...</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/run_algo.html#run_algorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.run_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a trading algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>capital_base</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The starting capital for the backtest.</p>
</dd>
<dt><strong>start</strong> <span class="classifier-delimiter">:</span> <span class="classifier">datetime</span></dt>
<dd><p class="first last">The start date of the backtest.</p>
</dd>
<dt><strong>end</strong> <span class="classifier-delimiter">:</span> <span class="classifier">datetime</span></dt>
<dd><p class="first last">The end date of the backtest..</p>
</dd>
<dt><strong>initialize</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable[context -&gt; None]</span></dt>
<dd><p class="first last">The initialize function to use for the algorithm. This is called once
at the very beginning of the run and should be used to set up
any state needed by the algorithm.</p>
</dd>
<dt><strong>handle_data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable[(context, BarData) -&gt; None], optional</span></dt>
<dd><p class="first last">The handle_data function to use for the algorithm. This is called
every minute when <code class="docutils literal"><span class="pre">data_frequency</span> <span class="pre">==</span> <span class="pre">'minute'</span></code> or every day
when <code class="docutils literal"><span class="pre">data_frequency</span> <span class="pre">==</span> <span class="pre">'daily'</span></code>.</p>
</dd>
<dt><strong>before_trading_start</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable[(context, BarData) -&gt; None], optional</span></dt>
<dd><p class="first last">The before_trading_start function for the algorithm. This is called
once before each trading day (after initialize on the first day).</p>
</dd>
<dt><strong>analyze</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable[(context, pd.DataFrame) -&gt; None], optional</span></dt>
<dd><p class="first last">The analyze function to use for the algorithm. This function is called
once at the end of the backtest/live run and is passed the
context and the performance data.</p>
</dd>
<dt><strong>data_frequency</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘daily’, ‘minute’}, optional</span></dt>
<dd><p class="first last">The data frequency to run the algorithm at.
At backtest both modes are supported, at live mode only
the minute mode is supported.</p>
</dd>
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">pd.DataFrame, pd.Panel, or DataPortal, optional</span></dt>
<dd><p class="first last">The ohlcv data to run the backtest with.
This argument is mutually exclusive with:
<code class="docutils literal"><span class="pre">bundle</span></code>
<code class="docutils literal"><span class="pre">bundle_timestamp</span></code></p>
</dd>
<dt><strong>bundle</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd><p class="first last">The name of the data bundle to use to load the data to run the backtest
with.
This argument is mutually exclusive with <code class="docutils literal"><span class="pre">data</span></code>.</p>
</dd>
<dt><strong>bundle_timestamp</strong> <span class="classifier-delimiter">:</span> <span class="classifier">datetime, optional</span></dt>
<dd><p class="first last">The datetime to lookup the bundle data for. This defaults to the
current time.
This argument is mutually exclusive with <code class="docutils literal"><span class="pre">data</span></code>.</p>
</dd>
<dt><strong>default_extension</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should the default catalyst extension be loaded. This is found at
<code class="docutils literal"><span class="pre">$CATALYST_ROOT/extension.py</span></code></p>
</dd>
<dt><strong>extensions</strong> <span class="classifier-delimiter">:</span> <span class="classifier">iterable[str], optional</span></dt>
<dd><p class="first last">The names of any other extensions to load. Each element may either be
a dotted module path like <code class="docutils literal"><span class="pre">a.b.c</span></code> or a path to a python file ending
in <code class="docutils literal"><span class="pre">.py</span></code> like <code class="docutils literal"><span class="pre">a/b/c.py</span></code>.</p>
</dd>
<dt><strong>strict_extensions</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should the run fail if any extensions fail to load. If this is false,
a warning will be raised instead.</p>
</dd>
<dt><strong>environ</strong> <span class="classifier-delimiter">:</span> <span class="classifier">mapping[str -&gt; str], optional</span></dt>
<dd><p class="first last">The os environment to use. Many extensions use this to get parameters.
This defaults to <code class="docutils literal"><span class="pre">os.environ</span></code>.</p>
</dd>
<dt><strong>live</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should the algorithm be executed in live trading mode.</p>
</dd>
<dt><strong>remote</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should the algorithm run on a remote server.
currently, available only on backtest mode.</p>
</dd>
<dt><strong>mail</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, optional- if running with remote=True then, mandatory.</span></dt>
<dd><p class="first last">to which email address shall the server send the results to.</p>
</dd>
<dt><strong>exchange_name: str</strong></dt>
<dd><p class="first last">The name of the exchange to be used in the backtest/live run.</p>
</dd>
<dt><strong>quote_currency: str</strong></dt>
<dd><p class="first last">The base currency to be used in the backtest/live run.</p>
</dd>
<dt><strong>algo_namespace: str</strong></dt>
<dd><p class="first last">The namespace of the algorithm.</p>
</dd>
<dt><strong>live_graph: bool, optional</strong></dt>
<dd><p class="first last">Should the live graph clock be used instead of the regular clock.</p>
</dd>
<dt><strong>analyze_live: callable[(context, pd.DataFrame) -&gt; None], optional</strong></dt>
<dd><p class="first last">The interactive analyze function to be used with
the live graph clock in every tick.</p>
</dd>
<dt><strong>simulate_orders: bool, optional</strong></dt>
<dd><p class="first last">Should paper trading mode be applied.</p>
</dd>
<dt><strong>auth_aliases: str, optional</strong></dt>
<dd><p class="first last">Rewrite the auth file name. It should contain an even list
of comma-delimited values. For example: “binance,auth2,bittrex,auth2”</p>
</dd>
<dt><strong>stats_output: str, optional</strong></dt>
<dd><p class="first last">The URI of the S3 bucket to which to upload the performance stats.</p>
</dd>
<dt><strong>output: str, optional</strong></dt>
<dd><p class="first last">The output file path to which the algorithm performance
is serialized.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>perf</strong> <span class="classifier-delimiter">:</span> <span class="classifier">pd.DataFrame</span></dt>
<dd><p class="first last">The daily performance of the algorithm.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="algorithm-api">
<h2>Algorithm API<a class="headerlink" href="#algorithm-api" title="Permalink to this headline">¶</a></h2>
<p>The following methods are available for use in the <code class="docutils literal"><span class="pre">initialize</span></code>,
<code class="docutils literal"><span class="pre">handle_data</span></code>, and <code class="docutils literal"><span class="pre">before_trading_start</span></code> API functions.</p>
<p>In all listed functions, the <code class="docutils literal"><span class="pre">self</span></code> argument is implicitly the
currently-executing <code class="xref py py-class docutils literal"><span class="pre">TradingAlgorithm</span></code> instance.</p>
<div class="section" id="data-object">
<h3>Data Object<a class="headerlink" href="#data-object" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="catalyst.protocol.BarData">
<em class="property">class </em><code class="descclassname">catalyst.protocol.</code><code class="descname">BarData</code><a class="headerlink" href="#catalyst.protocol.BarData" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides methods to access spot value or history windows of price data.
Also provides some utility methods to determine if an asset is alive,
has recent trade data, etc.</p>
<p>This is what is passed as <code class="docutils literal"><span class="pre">data</span></code> to the <code class="docutils literal"><span class="pre">handle_data</span></code> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>data_portal</strong> <span class="classifier-delimiter">:</span> <span class="classifier">DataPortal</span></dt>
<dd><p class="first last">Provider for bar pricing data.</p>
</dd>
<dt><strong>simulation_dt_func</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable</span></dt>
<dd><p class="first last">Function which returns the current simulation time.
This is usually bound to a method of TradingSimulation.</p>
</dd>
<dt><strong>data_frequency</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘minute’, ‘daily’}</span></dt>
<dd><p class="first last">The frequency of the bar data; i.e. whether the data is
daily or minute bars</p>
</dd>
<dt><strong>restrictions</strong> <span class="classifier-delimiter">:</span> <span class="classifier">catalyst.finance.asset_restrictions.Restrictions</span></dt>
<dd><p class="first last">Object that combines and returns restricted list information from
multiple sources</p>
</dd>
<dt><strong>universe_func</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable, optional</span></dt>
<dd><p class="first last">Function which returns the current ‘universe’.  This is for
backwards compatibility with older API concepts.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="catalyst.protocol.BarData.can_trade">
<code class="descname">can_trade</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.protocol.BarData.can_trade" title="Permalink to this definition">¶</a></dt>
<dd><p>For the given asset or iterable of assets, returns true if all of the
following are true:
1) the asset is alive for the session of the current simulation time (if current simulation
time is not a market minute, we use the next session)
2) there is a known last price for the asset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>assets: Asset or iterable of assets</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>can_trade</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool or pd.Series[bool] indexed by asset.</span></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="catalyst.protocol.BarData.current">
<code class="descname">current</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.protocol.BarData.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current value of the given assets for the given fields
at the current simulation time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>assets</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Asset or iterable of Assets</span></dt>
<dd></dd>
<dt><strong>fields</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or iterable[str].</span></dt>
<dd><p class="first last">Valid values are: “price”,
“last_traded”, “open”, “high”, “low”, “close”, “volume”, or column
names in files read by <code class="docutils literal"><span class="pre">fetch_csv</span></code>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>current_value</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Scalar, pandas Series, or pandas DataFrame.</span></dt>
<dd><p class="first last">See notes below.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If a single asset and a single field are passed in, a scalar float
value is returned.</p>
<p>If a single asset and a list of fields are passed in, a pandas Series
is returned whose indices are the fields, and whose values are scalar
values for this asset for each field.</p>
<p>If a list of assets and a single field are passed in, a pandas Series
is returned whose indices are the assets, and whose values are scalar
values for each asset for the given field.</p>
<p>If a list of assets and a list of fields are passed in, a pandas
DataFrame is returned, indexed by asset.  The columns are the requested
fields, filled with the scalar values for each asset for each field.</p>
<p>If the current simulation time is not a valid market time, we use the
last market close instead.</p>
<p>“price” returns the last known close price of the asset.  If there is
no last known value (either because the asset has never traded, or
because it has delisted) NaN is returned.</p>
<p>“last_traded” returns the date of the last trade event of the asset,
even if the asset has stopped trading. If there is no last known value,
pd.NaT is returned.</p>
<p>In backtest mode, “volume” returns the trade volume for the current simulation time.  If
there is no trade this minute, 0 is returned.</p>
<p>“open”, “high”, “low”, and “close” return the relevant information for
the current trade bar.  If there is no current trade bar, NaN is
returned.</p>
<p>In live mode, “volume”, “close” and “price” are the only available fields.</p>
<p>In live mode, “volume” returns the last 24 hour trading volume.</p>
</dd></dl>

<dl class="method">
<dt id="catalyst.protocol.BarData.history">
<code class="descname">history</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.protocol.BarData.history" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a window of data for the given assets and fields.</p>
<p>The label of each candle is left-bound. This means that for example, in case of 5 minute candles,
the candle of 00:00:00 will hold the data between 00:00:00 and 00:04:59.</p>
<p>In minute mode, both in live and backtest, the last candle will almost always
be a partial one. For example, if the current time is 00:02:00 then the last 5 minute candle
with 00:00:00 timestamp will hold data between 00:00:00 and 00:01:59.</p>
<p>The semantics of missing data are identical to the ones described in
the notes for <cite>get_spot_value</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>assets: Asset or iterable of Asset</strong></dt>
<dd></dd>
<dt><strong>fields: string or iterable of string.  Valid values are “open”, “high”,</strong></dt>
<dd><p class="first last">“low”, “close”, “volume”, “price”, and “last_traded”.</p>
</dd>
<dt><strong>bar_count: integer number of bars of trade data</strong></dt>
<dd></dd>
<dt><strong>frequency: string. “T” for minutely data, “D” for daily date,</strong></dt>
<dd><p class="first last">“H” for hourly data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>history</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Series or DataFrame or Panel</span></dt>
<dd><p class="first">Return type depends on the dimensionality of the ‘assets’ and
‘fields’ parameters.</p>
<p>If single asset and field are passed in, the returned Series is
indexed by dt.</p>
<p>If multiple assets and single field are passed in, the returned
DataFrame is indexed by dt, and has assets as columns.</p>
<p>If a single asset and multiple fields are passed in, the returned
DataFrame is indexed by dt, and has fields as columns.</p>
<p class="last">If multiple assets and multiple fields are passed in, the returned
Panel is indexed by field, has dt as the major axis, and assets
as the minor axis.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="catalyst.protocol.BarData.is_stale">
<code class="descname">is_stale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.protocol.BarData.is_stale" title="Permalink to this definition">¶</a></dt>
<dd><p>For the given asset or iterable of assets, returns true if the asset
is alive and there is no trade data for the current simulation time.</p>
<p>If the asset has never traded, returns False.</p>
<p>If the current simulation time is not a valid market time, we use the
current time to check if the asset is alive, but we use the last
market minute/day for the trade data check.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>assets: Asset or iterable of assets</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>boolean or Series of booleans, indexed by asset.</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="scheduling-functions">
<h3>Scheduling Functions<a class="headerlink" href="#scheduling-functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="catalyst.api.schedule_function">
<code class="descclassname">catalyst.api.</code><code class="descname">schedule_function</code><span class="sig-paren">(</span><em>self</em>, <em>func</em>, <em>date_rule=None</em>, <em>time_rule=None</em>, <em>half_days=True</em>, <em>calendar=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.schedule_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedules a function to be called according to some timed rules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>func</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable[(context, data) -&gt; None]</span></dt>
<dd><p class="first last">The function to execute when the rule is triggered.</p>
</dd>
<dt><strong>date_rule</strong> <span class="classifier-delimiter">:</span> <span class="classifier">EventRule, optional</span></dt>
<dd><p class="first last">The rule for the dates to execute this function.</p>
</dd>
<dt><strong>time_rule</strong> <span class="classifier-delimiter">:</span> <span class="classifier">EventRule, optional</span></dt>
<dd><p class="first last">The rule for the times to execute this function.</p>
</dd>
<dt><strong>half_days</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should this rule fire on half days?</p>
</dd>
<dt><strong>calendar</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Sentinel, optional</span></dt>
<dd><p class="first last">Calendar used to reconcile date and time rules.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.api.date_rules" title="catalyst.api.date_rules"><code class="xref py py-class docutils literal"><span class="pre">catalyst.api.date_rules</span></code></a>, <a class="reference internal" href="#catalyst.api.time_rules" title="catalyst.api.time_rules"><code class="xref py py-class docutils literal"><span class="pre">catalyst.api.time_rules</span></code></a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="catalyst.api.date_rules">
<em class="property">class </em><code class="descclassname">catalyst.api.</code><code class="descname">date_rules</code><a class="reference internal" href="_modules/catalyst/utils/events.html#date_rules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.date_rules" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="catalyst.api.date_rules.every_day">
<code class="descname">every_day</code><a class="headerlink" href="#catalyst.api.date_rules.every_day" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">Always</span></code></p>
</dd></dl>

<dl class="staticmethod">
<dt id="catalyst.api.date_rules.month_end">
<em class="property">static </em><code class="descname">month_end</code><span class="sig-paren">(</span><em>days_offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/events.html#date_rules.month_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.date_rules.month_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="catalyst.api.date_rules.month_start">
<em class="property">static </em><code class="descname">month_start</code><span class="sig-paren">(</span><em>days_offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/events.html#date_rules.month_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.date_rules.month_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="catalyst.api.date_rules.week_end">
<em class="property">static </em><code class="descname">week_end</code><span class="sig-paren">(</span><em>days_offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/events.html#date_rules.week_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.date_rules.week_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="catalyst.api.date_rules.week_start">
<em class="property">static </em><code class="descname">week_start</code><span class="sig-paren">(</span><em>days_offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/events.html#date_rules.week_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.date_rules.week_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="catalyst.api.time_rules">
<em class="property">class </em><code class="descclassname">catalyst.api.</code><code class="descname">time_rules</code><a class="reference internal" href="_modules/catalyst/utils/events.html#time_rules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.time_rules" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="catalyst.api.time_rules.every_minute">
<code class="descname">every_minute</code><a class="headerlink" href="#catalyst.api.time_rules.every_minute" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">Always</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="catalyst.api.time_rules.market_close">
<code class="descname">market_close</code><a class="headerlink" href="#catalyst.api.time_rules.market_close" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">BeforeClose</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="catalyst.api.time_rules.market_open">
<code class="descname">market_open</code><a class="headerlink" href="#catalyst.api.time_rules.market_open" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">AfterOpen</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="orders">
<h3>Orders<a class="headerlink" href="#orders" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="catalyst.api.order">
<code class="descclassname">catalyst.api.</code><code class="descname">order</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>amount</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Asset</span></dt>
<dd><p class="first last">The asset/TradingPair that this order is for.</p>
</dd>
<dt><strong>amount</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The amount of currency to order. If <code class="docutils literal"><span class="pre">amount</span></code> is positive, this is
the number of <code class="docutils literal"><span class="pre">base_currency</span></code> (the first asset in the pair) to
buy. If <code class="docutils literal"><span class="pre">amount</span></code> is negative, this is the number of
<code class="docutils literal"><span class="pre">base_currency</span></code> to sell (buy <code class="docutils literal"><span class="pre">quote_currency</span></code>).</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle, optional</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or None</span></dt>
<dd><p class="first last">The unique identifier for this order, or None if no order was
placed.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order_value" title="catalyst.api.order_value"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_value()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_percent" title="catalyst.api.order_percent"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_percent()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>The <code class="docutils literal"><span class="pre">limit_price</span></code> argument provide shorthands for
passing common execution styles. Passing <code class="docutils literal"><span class="pre">limit_price=N</span></code> is
equivalent to <code class="docutils literal"><span class="pre">style=LimitOrder(N)</span></code>. It is an error to pass both
a <code class="docutils literal"><span class="pre">style</span></code> and <code class="docutils literal"><span class="pre">limit_price</span></code>.</p>
<p>Currently, orders must be done only with one <code class="docutils literal"><span class="pre">quote_currency</span></code>
throughout all the algorithm.</p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.order_value">
<code class="descclassname">catalyst.api.</code><code class="descname">order_value</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>value</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order by <code class="docutils literal"><span class="pre">quote_currency</span></code> value rather than desired number of
<code class="docutils literal"><span class="pre">base_currency</span></code> wanted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair that this order is for.</p>
</dd>
<dt><strong>value</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first">If the requested tradingPair exists, the requested value is
divided by its price to imply the number of currency to transact.</p>
<p class="last">value &gt; 0 :: Buy/Cover
value &lt; 0 :: Sell</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_percent" title="catalyst.api.order_percent"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_percent()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>See <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a> for more information about
<code class="docutils literal"><span class="pre">limit_price</span></code>, and <code class="docutils literal"><span class="pre">style</span></code></p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.order_percent">
<code class="descclassname">catalyst.api.</code><code class="descname">order_percent</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>percent</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order in the specified tradingPair corresponding to the given
percent of the current portfolio value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The tradingPair that this order is for.</p>
</dd>
<dt><strong>percent</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the portfolio value to allocate to <code class="docutils literal"><span class="pre">asset</span></code>.
This is specified as a decimal, for example: 0.50 means 50%.</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_value" title="catalyst.api.order_value"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_value()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>See <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a> for more information about
<code class="docutils literal"><span class="pre">limit_price</span></code>, and <code class="docutils literal"><span class="pre">style</span></code></p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.order_target">
<code class="descclassname">catalyst.api.</code><code class="descname">order_target</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>target</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target number of currency. If
the position doesn’t already exist, this is equivalent to placing a new
order. If the position does exist, this is equivalent to placing an
order for the difference between the target number of shares and the
current number of shares.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair that this order is for.</p>
</dd>
<dt><strong>target</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The desired number of <code class="docutils literal"><span class="pre">TradingPair</span></code>.</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target_percent" title="catalyst.api.order_target_percent"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target_percent()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target_value" title="catalyst.api.order_target_value"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target_value()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p><code class="docutils literal"><span class="pre">order_target</span></code> takes into account open orders as well.</p>
<p>See <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a> for more information about
<code class="docutils literal"><span class="pre">limit_price</span></code>, and <code class="docutils literal"><span class="pre">style</span></code></p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.order_target_value">
<code class="descclassname">catalyst.api.</code><code class="descname">order_target_value</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>target</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order_target_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target value. If
the position doesn’t already exist, this is equivalent to placing a new
order. If the position does exist, this is equivalent to placing an
order for the difference between the target value and the
current value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair that this order is for.</p>
</dd>
<dt><strong>target</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The desired total value of <code class="docutils literal"><span class="pre">TradingPair</span></code>.</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target" title="catalyst.api.order_target"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target_percent" title="catalyst.api.order_target_percent"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target_percent()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>See <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a> for more information about
<code class="docutils literal"><span class="pre">limit_price</span></code> and <code class="docutils literal"><span class="pre">style</span></code></p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.order_target_percent">
<code class="descclassname">catalyst.api.</code><code class="descname">order_target_percent</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>target</em>, <em>limit_price=None</em>, <em>stop_price=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.order_target_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target percent of the
current portfolio value. If the position doesn’t already exist, this is
equivalent to placing a new order. If the position does exist, this is
equivalent to placing an order for the difference between the target
percent and the current percent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair that this order is for.</p>
</dd>
<dt><strong>target</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The desired percentage of the portfolio value to allocate to
<code class="docutils literal"><span class="pre">TradingPair</span></code>. This is specified as a decimal, for example:
0.50 means 50%.</p>
</dd>
<dt><strong>limit_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">The limit price for the order.</p>
</dd>
<dt><strong>stop_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Not supported</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ExecutionStyle</span></dt>
<dd><p class="first last">The execution style for the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.finance.execution.ExecutionStyle" title="catalyst.finance.execution.ExecutionStyle"><code class="xref py py-class docutils literal"><span class="pre">catalyst.finance.execution.ExecutionStyle</span></code></a>, <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target" title="catalyst.api.order_target"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target()</span></code></a>, <a class="reference internal" href="#catalyst.api.order_target_value" title="catalyst.api.order_target_value"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order_target_value()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>See <a class="reference internal" href="#catalyst.api.order" title="catalyst.api.order"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.order()</span></code></a> for more information about
<code class="docutils literal"><span class="pre">limit_price</span></code> and <code class="docutils literal"><span class="pre">style</span></code></p>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.execution.ExecutionStyle">
<em class="property">class </em><code class="descclassname">catalyst.finance.execution.</code><code class="descname">ExecutionStyle</code><a class="reference internal" href="_modules/catalyst/finance/execution.html#ExecutionStyle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.execution.ExecutionStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class representing a modification to a standard order.</p>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.execution.MarketOrder">
<em class="property">class </em><code class="descclassname">catalyst.finance.execution.</code><code class="descname">MarketOrder</code><span class="sig-paren">(</span><em>exchange=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/execution.html#MarketOrder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.execution.MarketOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating an order to be placed at the current market price.</p>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.execution.LimitOrder">
<em class="property">class </em><code class="descclassname">catalyst.finance.execution.</code><code class="descname">LimitOrder</code><span class="sig-paren">(</span><em>limit_price</em>, <em>exchange=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/execution.html#LimitOrder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.execution.LimitOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Execution style representing an order to be executed at a price equal to or
better than a specified limit price.</p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.get_order">
<code class="descclassname">catalyst.api.</code><code class="descname">get_order</code><span class="sig-paren">(</span><em>self</em>, <em>order_id</em>, <em>asset_or_symbol=None</em>, <em>return_price=False</em>, <em>params={}</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.get_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookup an order based on the order id returned from one of the
order functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>order_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The unique identifier for the order.</p>
</dd>
<dt><strong>asset_or_symbol: Asset or str</strong></dt>
<dd><p class="first last">The asset or the tradingPair symbol of the order.</p>
</dd>
<dt><strong>return_price: bool</strong></dt>
<dd><p class="first last">get the trading price in addition to the order</p>
</dd>
<dt><strong>params: dict, optional</strong></dt>
<dd><p class="first last">Extra parameters to pass to the exchange</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Order</span></dt>
<dd><p class="first last">The order object.</p>
</dd>
<dt><strong>execution_price: float</strong></dt>
<dd><p class="first last">The execution price per unit of the order if return_price is True</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.get_open_orders">
<code class="descclassname">catalyst.api.</code><code class="descname">get_open_orders</code><span class="sig-paren">(</span><em>self</em>, <em>asset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.get_open_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all of the current open orders.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Asset</span></dt>
<dd><p class="first last">If passed and not None, return only the open orders for the given
asset instead of all open orders.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>open_orders</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict[list[Order]] or list[Order]</span></dt>
<dd><p class="first last">If no asset is passed this will return a dict mapping Assets
to a list containing all the open orders for the asset.
If an asset is passed then this will return a list of the open
orders for this asset.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.cancel_order">
<code class="descclassname">catalyst.api.</code><code class="descname">cancel_order</code><span class="sig-paren">(</span><em>self</em>, <em>order_param</em>, <em>symbol=None</em>, <em>params={}</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.cancel_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an open order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>order_param</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or Order</span></dt>
<dd><p class="first last">The order_id or order object to cancel.</p>
</dd>
<dt><strong>symbol: str</strong></dt>
<dd><p class="first last">The tradingPair symbol</p>
</dd>
<dt><strong>params: dict, optional</strong></dt>
<dd><p class="first last">Extra parameters to pass to the exchange</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.get_orderbook">
<code class="descclassname">catalyst.api.</code><code class="descname">get_orderbook</code><span class="sig-paren">(</span><em>self</em>, <em>asset</em>, <em>order_type='all'</em>, <em>limit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.get_orderbook" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the orderbook for the given trading pair.
This function is supported only in live and paper trading modes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>asset: TradingPair</strong></dt>
<dd></dd>
<dt><strong>order_type: str</strong></dt>
<dd><p class="first last">The type of the orders: ‘bids’ or ‘asks’ or ‘all’</p>
</dd>
<dt><strong>limit: int</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>list[dict[str, float]</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="order-cancellation-policies">
<h4>Order Cancellation Policies<a class="headerlink" href="#order-cancellation-policies" title="Permalink to this headline">¶</a></h4>
<dl class="function">
<dt id="catalyst.api.set_cancel_policy">
<code class="descclassname">catalyst.api.</code><code class="descname">set_cancel_policy</code><span class="sig-paren">(</span><em>self</em>, <em>cancel_policy</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.set_cancel_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the order cancellation policy for the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>cancel_policy</strong> <span class="classifier-delimiter">:</span> <span class="classifier">CancelPolicy</span></dt>
<dd><p class="first last">The cancellation policy to use.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#catalyst.api.EODCancel" title="catalyst.api.EODCancel"><code class="xref py py-class docutils literal"><span class="pre">catalyst.api.EODCancel</span></code></a>, <a class="reference internal" href="#catalyst.api.NeverCancel" title="catalyst.api.NeverCancel"><code class="xref py py-class docutils literal"><span class="pre">catalyst.api.NeverCancel</span></code></a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.cancel_policy.CancelPolicy">
<em class="property">class </em><code class="descclassname">catalyst.finance.cancel_policy.</code><code class="descname">CancelPolicy</code><a class="reference internal" href="_modules/catalyst/finance/cancel_policy.html#CancelPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.cancel_policy.CancelPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract cancellation policy interface.</p>
<dl class="method">
<dt id="catalyst.finance.cancel_policy.CancelPolicy.should_cancel">
<code class="descname">should_cancel</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/cancel_policy.html#CancelPolicy.should_cancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.cancel_policy.CancelPolicy.should_cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Should all open orders be cancelled?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>event</strong> <span class="classifier-delimiter">:</span> <span class="classifier">enum-value</span></dt>
<dd><dl class="first last docutils">
<dt>An event type, one of:</dt>
<dd><ul class="first last simple">
<li><code class="xref py py-data docutils literal"><span class="pre">catalyst.gens.sim_engine.BAR</span></code></li>
<li><code class="xref py py-data docutils literal"><span class="pre">catalyst.gens.sim_engine.DAY_START</span></code></li>
<li><code class="xref py py-data docutils literal"><span class="pre">catalyst.gens.sim_engine.DAY_END</span></code></li>
<li><code class="xref py py-data docutils literal"><span class="pre">catalyst.gens.sim_engine.MINUTE_END</span></code></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>should_cancel</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Should all open orders be cancelled?</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="catalyst.api.EODCancel">
<code class="descclassname">catalyst.api.</code><code class="descname">EODCancel</code><span class="sig-paren">(</span><em>warn_on_cancel=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/cancel_policy.html#EODCancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.EODCancel" title="Permalink to this definition">¶</a></dt>
<dd><p>This policy cancels open orders at the end of the day.  For now,
Catalyst will only apply this policy to minutely simulations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>warn_on_cancel</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Should a warning be raised if this causes an order to be cancelled?</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.NeverCancel">
<code class="descclassname">catalyst.api.</code><code class="descname">NeverCancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/cancel_policy.html#NeverCancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.api.NeverCancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Orders are never automatically canceled.</p>
</dd></dl>

</div>
</div>
<div class="section" id="assets">
<h3>Assets<a class="headerlink" href="#assets" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="catalyst.api.symbol">
<code class="descclassname">catalyst.api.</code><code class="descname">symbol</code><span class="sig-paren">(</span><em>self</em>, <em>symbol_str</em>, <em>exchange_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookup a Trading pair by its ticker symbol.
Catalyst defines its own set of “universal” symbols to reference
trading pairs across exchanges. This is required because exchanges
are not adhering to a universal symbolism. For example, Bitfinex
uses the BTC symbol for Bitcon while Kraken uses XBT. In addition,
pairs are sometimes presented differently. For example, Bitfinex
puts the market currency before the base currency without a
separator, Bittrex puts the quote currency first and uses a dash
seperator.</p>
<p>Here is the Catalyst convention: [Base Currency]_[Quote Currency]
For example: btc_usd, eth_btc, neo_eth, ltc_eur.</p>
<p>The symbol for each currency (e.g. btc, eth, ltc) is generally
aligned with the Bittrex exchange.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>symbol_str</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The ticker symbol for the TradingPair to lookup.</p>
</dd>
<dt><strong>exchange_name: str</strong></dt>
<dd><p class="first last">The name of the exchange containing the symbol</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt><strong>tradingPair</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair that held the ticker symbol on the current
symbol lookup date.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SymbolNotFound</strong></dt>
<dd><p class="first last">Raised when the symbols was not held on the current lookup date.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.symbols">
<code class="descclassname">catalyst.api.</code><code class="descname">symbols</code><span class="sig-paren">(</span><em>self</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookup multiple TradingPairs as a list.
for example: symbols(‘eth_usd’,’btc_usd’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>*args</strong> <span class="classifier-delimiter">:</span> <span class="classifier">iterable[str]</span></dt>
<dd><p class="first last">The ticker symbols to lookup.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt><strong>tradingPairs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list[TradingPair]</span></dt>
<dd><p class="first last">The tradingPairs that held the given ticker symbols on the current
symbol lookup date.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SymbolNotFound</strong></dt>
<dd><p class="first last">Raised when one of the symbols was not held on the current
lookup date.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">catalyst.api.set_symbol_lookup_date()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.sid">
<code class="descclassname">catalyst.api.</code><code class="descname">sid</code><span class="sig-paren">(</span><em>self</em>, <em>sid</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookup a Trading Pair by its unique identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>sid</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The unique integer that identifies an Trading Pair.
for example: The unique sid for the ‘btc_usdt’ Trading Pair on
poloniex is 374465. Therefore, running sid(374465)
will give you the symbol of the Trading Pair</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt><strong>TradingPair</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TradingPair</span></dt>
<dd><p class="first last">The TradingPair with the given <code class="docutils literal"><span class="pre">sid</span></code>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SidsNotFound</strong></dt>
<dd><p class="first last">When a requested <code class="docutils literal"><span class="pre">sid</span></code> does not map to any TradingPair.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="simulation-parameters">
<h3>Simulation Parameters<a class="headerlink" href="#simulation-parameters" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="catalyst.api.set_benchmark">
<code class="descclassname">catalyst.api.</code><code class="descname">set_benchmark</code><span class="sig-paren">(</span><em>self</em>, <em>benchmark</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.set_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the benchmark asset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>benchmark</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Asset</span></dt>
<dd><p class="first last">The asset to set as the new benchmark.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Any dividends payed out for that new benchmark asset will be
automatically reinvested.</p>
</dd></dl>

<div class="section" id="commission-models">
<h4>Commission Models<a class="headerlink" href="#commission-models" title="Permalink to this headline">¶</a></h4>
<dl class="function">
<dt id="catalyst.api.set_commission">
<code class="descclassname">catalyst.api.</code><code class="descname">set_commission</code><span class="sig-paren">(</span><em>self</em>, <em>maker=None</em>, <em>taker=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.set_commission" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the maker and taker fees of the commission model for the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>maker</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The taker fee - taking from the order book.</p>
</dd>
<dt><strong>taker</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The maker fee - adding to the order book.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.commission.CommissionModel">
<em class="property">class </em><code class="descclassname">catalyst.finance.commission.</code><code class="descname">CommissionModel</code><a class="reference internal" href="_modules/catalyst/finance/commission.html#CommissionModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.commission.CommissionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract commission model interface.</p>
<p>Commission models are responsible for accepting order/transaction pairs and
calculating how much commission should be charged to an algorithm’s account
on each transaction.</p>
<dl class="method">
<dt id="catalyst.finance.commission.CommissionModel.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>order</em>, <em>transaction</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/commission.html#CommissionModel.calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.commission.CommissionModel.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the amount of commission to charge on <code class="docutils literal"><span class="pre">order</span></code> as a result
of <code class="docutils literal"><span class="pre">transaction</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>order</strong> <span class="classifier-delimiter">:</span> <span class="classifier">catalyst.finance.order.Order</span></dt>
<dd><p class="first">The order being processed.</p>
<p class="last">The <code class="docutils literal"><span class="pre">commission</span></code> field of <code class="docutils literal"><span class="pre">order</span></code> is a float indicating the
amount of commission already charged on this order.</p>
</dd>
<dt><strong>transaction</strong> <span class="classifier-delimiter">:</span> <span class="classifier">catalyst.finance.transaction.Transaction</span></dt>
<dd><p class="first last">The transaction being processed. A single order may generate
multiple transactions if there isn’t enough volume in a given bar
to fill the full amount requested in the order.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>amount_charged</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The additional commission, in dollars, that we should attribute to
this order.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="slippage-models">
<h4>Slippage Models<a class="headerlink" href="#slippage-models" title="Permalink to this headline">¶</a></h4>
<dl class="function">
<dt id="catalyst.api.set_slippage">
<code class="descclassname">catalyst.api.</code><code class="descname">set_slippage</code><span class="sig-paren">(</span><em>self</em>, <em>slippage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.set_slippage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the slippage of the fixed slippage model used by the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>slippage</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The slippage to be set.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="catalyst.finance.slippage.SlippageModel">
<em class="property">class </em><code class="descclassname">catalyst.finance.slippage.</code><code class="descname">SlippageModel</code><a class="reference internal" href="_modules/catalyst/finance/slippage.html#SlippageModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.slippage.SlippageModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract interface for defining a slippage model.</p>
<dl class="method">
<dt id="catalyst.finance.slippage.SlippageModel.process_order">
<code class="descname">process_order</code><span class="sig-paren">(</span><em>data</em>, <em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/finance/slippage.html#SlippageModel.process_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.finance.slippage.SlippageModel.process_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Process how orders get filled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">BarData</span></dt>
<dd><p class="first last">The data for the given bar.</p>
</dd>
<dt><strong>order</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Order</span></dt>
<dd><p class="first last">The order to simulate.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>execution_price</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The price to execute the trade at.</p>
</dd>
<dt><strong>execution_volume</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The number of shares that could be filled. This may not be all
the shares ordered in which case the order will be filled over
multiple bars.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="catalyst.exchange.exchange_blotter.TradingPairFixedSlippage">
<em class="property">class </em><code class="descclassname">catalyst.exchange.exchange_blotter.</code><code class="descname">TradingPairFixedSlippage</code><span class="sig-paren">(</span><em>slippage=0.0001</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/exchange/exchange_blotter.html#TradingPairFixedSlippage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.exchange.exchange_blotter.TradingPairFixedSlippage" title="Permalink to this definition">¶</a></dt>
<dd><p>Model slippage as a fixed value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>slippage</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">fixed slippage will be added to buys and subtracted from sells.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="pipeline">
<h3>Pipeline<a class="headerlink" href="#pipeline" title="Permalink to this headline">¶</a></h3>
<p>Not supported yet.</p>
</div>
<div class="section" id="miscellaneous">
<h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="catalyst.api.record">
<code class="descclassname">catalyst.api.</code><code class="descname">record</code><span class="sig-paren">(</span><em>self</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Track and record values each day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>**kwargs</strong></dt>
<dd><p class="first last">The names and values to record.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>These values will appear in the performance packets and the performance
dataframe passed to <code class="docutils literal"><span class="pre">analyze</span></code> and returned from
<a class="reference internal" href="#catalyst.run_algorithm" title="catalyst.run_algorithm"><code class="xref py py-func docutils literal"><span class="pre">run_algorithm()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="catalyst.api.get_environment">
<code class="descclassname">catalyst.api.</code><code class="descname">get_environment</code><span class="sig-paren">(</span><em>self</em>, <em>field='platform'</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.api.get_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the execution environment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>field</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘platform’, ‘arena’, ‘data_frequency’,</span></dt>
<dd><blockquote class="first">
<div><p>‘start’, ‘end’, ‘capital_base’, ‘platform’, ‘*’}</p>
</div></blockquote>
<dl class="last docutils">
<dt>The field to query. The options have the following meanings:</dt>
<dd><dl class="first last docutils">
<dt>arena <span class="classifier-delimiter">:</span> <span class="classifier">str {‘backtest’, ‘live’}</span></dt>
<dd><p class="first last">The algorithm’s arena.</p>
</dd>
<dt>data_frequency <span class="classifier-delimiter">:</span> <span class="classifier">{‘daily’, ‘minute’}</span></dt>
<dd><p class="first last">data_frequency tells the algorithm if it is running with
daily or minute mode.</p>
</dd>
<dt>start <span class="classifier-delimiter">:</span> <span class="classifier">datetime</span></dt>
<dd><p class="first last">The start date for the simulation.</p>
</dd>
<dt>end <span class="classifier-delimiter">:</span> <span class="classifier">datetime</span></dt>
<dd><p class="first last">The end date for the simulation.</p>
</dd>
<dt>capital_base <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The starting capital for the simulation.</p>
</dd>
<dt>platform <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The platform that the code is running on. By default this
will be the string ‘catalyst’. This can allow algorithms to
know if they are running on the Quantopian platform instead.</p>
</dd>
<dt>\* <span class="classifier-delimiter">:</span> <span class="classifier">dict[str -&gt; any]</span></dt>
<dd><p class="first last">Returns all of the fields in a dictionary.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt><strong>val</strong> <span class="classifier-delimiter">:</span> <span class="classifier">any</span></dt>
<dd><p class="first last">The value for the field queried. See above for more information.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">Raised when <code class="docutils literal"><span class="pre">field</span></code> is not a valid option.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="pipeline-api"></span></div>
</div>
<div class="section" id="trading-calendar-api">
<h2>Trading Calendar API<a class="headerlink" href="#trading-calendar-api" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="catalyst.utils.calendars.get_calendar">
<code class="descclassname">catalyst.utils.calendars.</code><code class="descname">get_calendar</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.utils.calendars.get_calendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an instance of a TradingCalendar whose name is given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The name of the TradingCalendar to be retrieved.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>calendar</strong> <span class="classifier-delimiter">:</span> <span class="classifier">catalyst.utils.calendars.TradingCalendar</span></dt>
<dd><p class="first last">The desired calendar.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="catalyst.utils.calendars.TradingCalendar">
<em class="property">class </em><code class="descclassname">catalyst.utils.calendars.</code><code class="descname">TradingCalendar</code><span class="sig-paren">(</span><em>start=Timestamp('1990-01-01 00:00:00+0000'</em>, <em>tz='UTC')</em>, <em>end=Timestamp('2019-11-11 16:51:46.749042+0000'</em>, <em>tz='UTC')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catalyst/utils/calendars/trading_calendar.html#TradingCalendar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#catalyst.utils.calendars.TradingCalendar" title="Permalink to this definition">¶</a></dt>
<dd><p>A TradingCalendar represents the timing information of a single market
exchange.</p>
<p>The timing information is made up of two parts: sessions, and opens/closes.</p>
<p>A session represents a contiguous set of minutes, and has a label that is
midnight UTC. It is important to note that a session label should not be
considered a specific point in time, and that midnight UTC is just being
used for convenience.</p>
<p>For each session, we store the open and close time in UTC time.</p>
</dd></dl>

<dl class="function">
<dt id="catalyst.utils.calendars.register_calendar">
<code class="descclassname">catalyst.utils.calendars.</code><code class="descname">register_calendar</code><span class="sig-paren">(</span><em>name</em>, <em>calendar</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.utils.calendars.register_calendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a calendar for retrieval by the get_calendar method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>name: str</strong></dt>
<dd><p class="first last">The key with which to register this calendar.</p>
</dd>
<dt><strong>calendar: TradingCalendar</strong></dt>
<dd><p class="first last">The calendar to be registered for retrieval.</p>
</dd>
<dt><strong>force</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True, old calendars will be overwritten on a name collision.
If False, name collisions will raise an exception.
Default is False.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>CalendarNameCollision</strong></dt>
<dd><p class="first last">If a calendar is already registered with the given calendar’s name.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.utils.calendars.register_calendar_type">
<code class="descclassname">catalyst.utils.calendars.</code><code class="descname">register_calendar_type</code><span class="sig-paren">(</span><em>name</em>, <em>calendar_type</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.utils.calendars.register_calendar_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a calendar by type.</p>
<p>This is useful for registering a new calendar to be lazily instantiated
at some future point in time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>name: str</strong></dt>
<dd><p class="first last">The key with which to register this calendar.</p>
</dd>
<dt><strong>calendar_type: type</strong></dt>
<dd><p class="first last">The type of the calendar to register.</p>
</dd>
<dt><strong>force</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True, old calendars will be overwritten on a name collision.
If False, name collisions will raise an exception.
Default is False.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>CalendarNameCollision</strong></dt>
<dd><p class="first last">If a calendar is already registered with the given calendar’s name.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.utils.calendars.deregister_calendar">
<code class="descclassname">catalyst.utils.calendars.</code><code class="descname">deregister_calendar</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.utils.calendars.deregister_calendar" title="Permalink to this definition">¶</a></dt>
<dd><p>If a calendar is registered with the given name, it is de-registered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>cal_name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The name of the calendar to be deregistered.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="catalyst.utils.calendars.clear_calendars">
<code class="descclassname">catalyst.utils.calendars.</code><code class="descname">clear_calendars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#catalyst.utils.calendars.clear_calendars" title="Permalink to this definition">¶</a></dt>
<dd><p>Deregisters all current registered calendars</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="releases.html" class="btn btn-neutral" title="Release Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Enigma MPC, Inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.21',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>